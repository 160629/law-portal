function TimeSelect(a){this.id=a;PageControl.add(this.id,this);this.name=null;this.hour="00";this.minute="00";this.second="00";this.hourInput=null;this.minuteInput=null;this.secondInput=null;this.container=null;this.upButton=null;this.downButton=null;this.hiddenInput=null;this.dateTime=null;this.defaultValue=null;this.__privateFormat="HH:mm:ss";this.format="HH:mm:ss";this.tabIndex=null;this.accesskey=null;this.currInput=null;this.BUTTON_UP_ID="BUTTON_UP"+a;this.BUTTON_DOWN_ID="BUTTON_DOWN"+a;this.INPUT_HOUR_ID="INPUT_HOUR"+a;this.INPUT_MINUTE_ID="INPUT_MINUTE"+a;this.INPUT_SECOND_ID="INPUT_SECOND"+a;this.INPUT_HIDDEN_ID="INPUT_HIDDEN"+a;this.maxValue="23:59:59";this.minValue="00:00:00";this.maxHour=23;this.minHour=0;this.maxMinute=59;this.minMinute=0;this.maxSecond=59;this.minSecond=0;this.readonly=false;this.isOver=false;this.disabled=false;this.allowNull=true}TimeSelect.prototype.setReadOnly=function(a){this.readonly=a;if(a){this.hourInput.readOnly=true;this.minuteInput.readOnly=true;this.secondInput.readOnly=true}else{this.hourInput.readOnly=false;this.minuteInput.readOnly=false;this.secondInput.readOnly=false}};TimeSelect.prototype.getReadOnly=function(){return this.readonly};TimeSelect.prototype.setDisabled=function(a){this.disabled=a;if(a){this.hiddenInput.disabled=true;this.hourInput.disabled=true;this.minuteInput.disabled=true;this.secondInput.disabled=true}else{this.hiddenInput.disabled=false;this.hourInput.disabled=false;this.minuteInput.disabled=false;this.secondInput.disabled=false}};TimeSelect.prototype.getDisabled=function(){return this.disabled};TimeSelect.prototype.init=function(){var a=this.toHtml();var b=$create("div");b.innerHTML=a;this.container=$id(this.id+"_container");this.container.appendChild(b);this.container.className="eos-time";this.container.onmouseover=function(){this.className="eos-time-over";this.isOver=true};this.container.onmouseout=function(){this.className="eos-time";this.isOver=false};this.container.onmousedown=function(){};if(!this.defaultValue&&!this.defaultNull){this.defaultValue="00:00:00"}if(this.defaultValue&&timeFormat(this.defaultValue,this.format)){if(this.maxValue&&this.defaultValue>this.maxValue){this.defaultValue=this.maxValue}if(this.minValue&&this.defaultValue<this.minValue){this.defaultValue=this.minValue}}this.initObject();this.setReadOnly(this.readonly);this.setDisabled(this.disabled);this.currInput=null};TimeSelect.prototype.initObject=function(){this.setCheckValue();this.hourInput=$id(this.INPUT_HOUR_ID);this.minuteInput=$id(this.INPUT_MINUTE_ID);this.secondInput=$id(this.INPUT_SECOND_ID);this.upButton=$id(this.BUTTON_UP_ID);this.downButton=$id(this.BUTTON_DOWN_ID);this.hiddenInput=$id(this.INPUT_HIDDEN_ID);var a=this;this.hourInput.onkeydown=function(){var b=eventManager.getKeyCode();return a.downkeyCode(b)};this.minuteInput.onkeydown=function(){var b=eventManager.getKeyCode();return a.downkeyCode(b)};this.secondInput.onkeydown=function(){var b=eventManager.getKeyCode();return a.downkeyCode(b)};this.setValue(this.defaultValue)};TimeSelect.prototype.setCheckValue=function(){if(isFormatTime(this.maxValue,this.format)){this.maxValue=timeFormat(this.maxValue,this.format,this.__privateFormat)}if(!isFormatTime(this.maxValue,this.__privateFormat)){this.maxValue="23:59:59"}var a=this.maxValue.split(":");this.maxHour=a[0];this.maxMinute=a[1];this.maxSecond=a[2];if(isFormatTime(this.minValue,this.format)){this.minValue=timeFormat(this.minValue,this.format,this.__privateFormat)}if(!isFormatTime(this.minValue,this.__privateFormat)){this.minValue="00:00:00"}var b=this.minValue.split(":");this.minHour=b[0];this.minMinute=b[1];this.minSecond=b[2]};TimeSelect.prototype.downkeyCode=function(a){if(a==38){this.up();return false}if(a==40){this.down();return false}if(a==9||a==8||a==37||a==39){return true}if(a==229){return false}if(a<106&&a>95){return true}if(a==46){return true}if(a>47&&a<58){return true}else{return false}};TimeSelect.prototype.clear=function(){if(this.allowNull){this.setValue(null)}};TimeSelect.prototype.up=function(){if(this.readonly||this.disabled){return}if(!this.currInput){this.currInput=this.secondInput;if(allTrim(this.hourInput.value)==""&&allTrim(this.minuteInput.value)==""){this.hourInput.value="00";this.minuteInput.value="00"}}var a=this.currInput.value*1+1;this.currInput.value=dateToStringValue(a);this.prevent(this.currInput);this.currInput.focus();this.currInput.select()};TimeSelect.prototype.down=function(){if(this.readonly||this.disabled){return}$debug(this.currInput);if(!this.currInput){this.currInput=this.secondInput;if(this.hourInput.value==""&&this.minuteInput.value==""){this.hourInput.value="00";this.minuteInput.value="00"}}var a=this.currInput.value*1-1;this.currInput.value=dateToStringValue(a);this.prevent(this.currInput);this.currInput.focus();this.currInput.select()};TimeSelect.prototype.getHours=function(){this.refreshValue();return dateToStringValue(this.hourInput.value)};TimeSelect.prototype.getMinutes=function(){this.refreshValue();return dateToStringValue(this.minuteInput.value)};TimeSelect.prototype.getSeconds=function(){this.refreshValue();return dateToStringValue(this.secondInput.value)};TimeSelect.prototype.setHours=function(a){this.hourInput.value=dateToStringValue(a);this.refreshValue()};TimeSelect.prototype.setMinutes=function(a){this.minuteInput.value=dateToStringValue(a);this.refreshValue()};TimeSelect.prototype.setSeconds=function(a){this.secondInput.value=dateToStringValue(a);this.refreshValue()};TimeSelect.prototype.getValue=function(){this.refreshValue();if(this.dateTime){return timeFormat(this.dateTime,this.__privateFormat,this.format)}else{return null}};TimeSelect.prototype.setValue=function(a){if(a===null||a===undefined||a==""){this.dateTime=null}else{this.dateTime=timeFormat(a,this.format,this.__privateFormat)}this.refresh()};TimeSelect.prototype.setFocus=function(){this.hourInput.focus()};TimeSelect.prototype.isFocus=function(){return this.isOver};TimeSelect.prototype.showEditor=function(){this.container.style.display=""};TimeSelect.prototype.hideEditor=function(){this.container.style.display="none"};TimeSelect.prototype.getDisplayValue=function(a){return a};TimeSelect.prototype.setPosition=function(d,b,c,a){if(this.container){this.container.style.position="absolute";var e=getMaxZindex(document);if(this.container.style.zIndex!=e){this.container.style.zIndex=e}setElementXY(this.container,[d,b])}};TimeSelect.prototype.refresh=function(){if(this.dateTime){var a=this.dateTime.split(":");a[0]=a[0]||"00";a[1]=a[1]||"00";a[2]=a[2]||"00";this.hourInput.value=a[0];this.minuteInput.value=a[1];this.secondInput.value=a[2]}else{this.hourInput.value="";this.minuteInput.value="";this.secondInput.value=""}this.refreshValue()};TimeSelect.prototype.refreshValue=function(){var a=dateToStringValue(this.hourInput.value);var c=dateToStringValue(this.minuteInput.value);var b=dateToStringValue(this.secondInput.value);if(a&&c&&b){this.dateTime=a+":"+c+":"+b;this.hiddenInput.value=this.dateTime}};TimeSelect.prototype.toHtml=function(){var a='tabIndex="'+this.tabIndex+'" accesskey="'+this.accesskey+'" ';var b=a+'type="text" autocomplete="off" onpropertychange="$o(\''+this.id+'\').setForObjValue(this)"  maxlength="2" onclick="this.focus();this.select()" onfocus="$o(\'';b+=this.id+"').Focus(this);\" onkeyup=\"$o('"+this.id+"').keyPress(this)\"";b+=' onpaste="return false" ondragenter="return false" onchange="$o(\'';b+=this.id+"').setForObjValue(this)\" onblur=\"$o('"+this.id+"').Blur(this)\"";var c="";c+='<div id="'+this.id+'_time_container" class="eos-time-container" style="background-color:#ffffff;width: 91px;height:20px;float:left;overflow:hidden">';c+='<div style="font-size:11pt;float:left;width: 72px;height:20px;overflow:hidden;float:left;padding-top:1px;padding-buttom:3px;padding-left:3px;">';c+='<input numtype="h" id="'+this.INPUT_HOUR_ID+'"  '+b+' style="ime-mode:disabled;width:18px;height:14px;vertical-align:middle;background-color:transparent;border:0px solid black;font-size: 9pt;text-align: center;"><b>:</b>';c+='<input numtype="m" id="'+this.INPUT_MINUTE_ID+'"  '+b+' style="ime-mode:disabled;width:18px;height:14px;vertical-align:middle;background-color:transparent;border:0px solid black;font-size: 9pt;text-align: center;"><b>:</b>';c+='<input numtype="s" id="'+this.INPUT_SECOND_ID+'"  '+b+' style="ime-mode:disabled;width:18px;height:14px;vertical-align:middle;background-color:transparent;border:0px solid black;font-size: 9pt;text-align: center;">';c+="</div>";c+='<div style="width: 16px;height:20px;overflow:hidden;float:right;padding-top:0px;">';c+='<div style="width: 16px;height:9px;overflow:hidden;">';c+="<div onclick=\"$id('"+this.id+'\').controlTime(true)" id="'+this.BUTTON_UP_ID+'" class="eos-time-arrow-up" onmouseover="this.className=\'eos-time-arrow-up-over\'" onmouseout="this.className=\'eos-time-arrow-up\'" style="width: 16px;height:10px;">';c+="</div>";c+="</div>";c+='<div style="width: 16px;height:9px;overflow:hidden;margin-top:1px;">';c+="<div onclick=\"$id('"+this.id+'\').controlTime(false)" id="'+this.BUTTON_DOWN_ID+'" class="eos-time-arrow-down" onmouseover="this.className=\'eos-time-arrow-down-over\'" onmouseout="this.className=\'eos-time-arrow-down\'" style="width: 16px;height:10px;">';c+="</div>";c+="</div>";c+="</div>";c+="</div>";c+="<div><input validateAttr='type=eos_time'  type='hidden' ";if(this.name){c+="name='"+this.name+"'"}c+="id='"+this.INPUT_HIDDEN_ID+"' value='"+this.dateTime+"'></div>";return c};TimeSelect.prototype.keyPress=function(a){if(a.value.length==2){this.prevent(a)}};TimeSelect.prototype.Blur=function(b){this.lostFocus=true;var a=this;if(b.value.length==2){this.prevent(b)}else{if(b.value.length==1){b.value="0"+b.value;this.prevent(b)}}window.tmpTimeout=setTimeout(function(){if(a.lostFocus){a.validate()}},300)};TimeSelect.prototype.Focus=function(a){this.currInput=a;this.lostFocus=false};TimeSelect.prototype.validate=function(){if(allTrim(this.hourInput.value+this.minuteInput.value+this.secondInput.value)==""){if(this.allowNull){f_alert_verify_successful($id(this.id+"_time_container"));return true}else{f_alert($id(this.id+"_time_container"),CHECK_MUST_INPUT);return false}}if(allTrim(this.hourInput.value)==""||allTrim(this.minuteInput.value)==""||allTrim(this.secondInput.value)==""){f_alert($id(this.id+"_time_container"),TIME_INPUTTIME+this.hourInput.value+":"+this.minuteInput.value+":"+this.secondInput.value+TIME_FORMATERROR);return false}if(parseInt(this.maxHour*3600+this.maxMinute*60+this.maxSecond)<parseInt(this.hourInput.value*3600+this.minuteInput.value*60+this.secondInput.value)){f_alert($id(this.id+"_time_container"),TIME_INPUTTIME+this.hourInput.value+":"+this.minuteInput.value+":"+this.secondInput.value+TIME_LESSTHAN+this.maxValue);return false}if((this.minHour*3600+this.minMinute*60+this.minSecond)>(this.hourInput.value*3600+this.minuteInput.value*60+this.secondInput.value)){f_alert($id(this.id+"_time_container"),TIME_INPUTTIME+this.hourInput.value+":"+this.minuteInput.value+":"+this.secondInput.value+TIME_MORETHAN+this.minValue);return false}f_alert_verify_successful($id(this.id+"_time_container"));return true};TimeSelect.prototype.prevent=function(a){if(a.value==""||a.value===null||a.value===undefined){return}numtype=a.getAttribute("numtype");if(numtype=="h"){if(a.value*1>23){a.value="00"}else{if(a.value*1<0){a.value="23"}else{if(isNaN(a.value)){a.value="00"}}}}else{if(numtype=="m"||numtype=="s"){if(a.value*1>59){a.value="00"}else{if(a.value*1<0){a.value="59"}else{if(isNaN(a.value)){a.value="00"}}}}}};TimeSelect.prototype.setForObjValue=function(a){this.prevent(a);this.refreshValue()};TimeSelect.prototype.controlTime=function(a){if(a){this.up()}else{this.down()}this.refreshValue();this.validate()};function f_check_eos_time(b){if(b.id){var c=b.id;if(c.indexOf("INPUT_HIDDEN")>=0){c=c.replace("INPUT_HIDDEN","");var a=$id(c);if(a){return a.validate()}}}return true};