var EOSMaskCache={};function Mask(c,b){var a=this;this.id=c;this.inited=false;EOSMaskCache[this.id]=this;this.isFrameSetPage=false;this.win=b||window;this.init=function(){this.frameList=this.win.document.getElementsByTagName("frame");if(this.frameList.length>0){this.isFrameSetPage=true;this.inited=true;return this.inited}this.container=this.container||this.win.document.body;if(!this.inited&&this.win.document.body){this.core=this.win.document.createElement("div");this.core.id=this.id+"_div";this.core.onmousedown=function(){eventManager.stopBubble()};if(isIE){}this.core.className="eos-page-mask";this.core.style.display="none";this.win.document.body.appendChild(this.core);this.inited=true}return this.inited};this.setContainer=function(d){if(this.container&&this.container.setAttribute){this.container.setAttribute("_mask",null)}this.container=d;if(this.container&&this.container.setAttribute){this.container.setAttribute("_mask",this.id)}};this.isHidden=function(){return this.core.style.display=="none"};this.autoResize=function(){if(this.isHidden()){return}var g=parseInt(this.container.style.marginTop);var k=parseInt(this.container.style.marginLeft);g=g||0;k=k||0;var i=0,f=0,e,j;if(this.container==this.win.document.body){e=this.win.screen.width;j=this.win.screen.height}else{i=getElementXY(this.container);f=i[0];i=i[1];e=this.container.offsetWidth;j=this.container.offsetHeight}e+=g;j+=k;var d=this.core;d.style.top=i-g+"px";d.style.left=f-k+"px";d.style.width=e+"px";d.style.height=j+"px";if(this.container==this.win.document.body){this.container.scrollTop=0;this.container.scrollLeft=0}},this.show=function(d){if(this.isFrameSetPage){for(var f=0;f<this.frameList.length;f++){try{if(!this.frameList[f].contentWindow.eos_pageMask){this.frameList[f].contentWindow.eos_pageMask=new Mask("eos_pageMask_f_"+f,this.frameList[f].contentWindow)}this.frameList[f].contentWindow.eos_pageMask.show()}catch(g){}}return}if(!this.init()||!this.isHidden()){return}if(d){this.setContainer(d)}this.oldOverFlowX=this.container.style.overflowX;this.oldOverFlowY=this.container.style.overflowY;this.container.style.overflowX="hidden";this.container.style.overflowY="hidden";var h=getMaxZindex(this.container.ownerDocument||document);h++;this.container.style.zIndex=h;this.core.style.display="block";h++;this.core.style.zIndex=h;this.core.focus();this.autoResize()};this.hide=function(){if(this.isFrameSetPage){for(var d=0;d<this.frameList.length;d++){try{if(!this.frameList[d].contentWindow.eos_pageMask){this.frameList[d].contentWindow.eos_pageMask=new Mask("frame_"+this.frameList[d].contentWindow.location,this.frameList[d].contentWindow)}this.frameList[d].contentWindow.eos_pageMask.hide()}catch(f){}}return}if(this.isHidden()||!this.container){return}this.container.style.overflowX=this.oldOverFlowX;this.container.style.overflowY=this.oldOverFlowY;this.core.style.display="none"};this.hideAfterTime=function(d){this.win.setTimeout(function(){a.hide()},d||100)};if(window.addEventListener){window.addEventListener("load",function(){a.init()},false)}else{window.attachEvent("onload",function(){a.init()})}}window.eos_pageMask=new Mask("eos_pageMask");function maskElement(c,g){g=g||window;c=$id(c);c.maskId="_eos_"+c.id+"_mask";var j=$id(c.maskId,g.document);var a=c.offsetWidth,b=c.offsetHeight;if(!j){j=$create("div",g.document);j.style.display="none";j.id=c.maskId;if(document!=g.document){moveCss(document,g.document)}g.document.body.appendChild(j)}j.style.position="absolute";j.style.width=a+"px";j.style.height=b+"px";var f=getElementXY(c);setElementXY(j,f);j.className="eos-page-mask";j.style.display="block";g._bakscroll=g.onscroll;var i=getMaxZindex(g.document);j.onmousedown=function(){eventManager.stopBubble()};j.onkeydown=function(){eventManager.stopBubble()};j.onkeypress=function(){eventManager.stopBubble()};j.style.zIndex=i+2;j.pActiveElement=document.activeElement;try{j.focus()}catch(d){}try{j.getElementsByTagName("a")[0].focus()}catch(d){}}function unMaskElement(a,b){b=b||window;a=$id(a);var c=$id(a.maskId);if(c){c.style.display="none"}}function maskTop(){maskWindow(_get_top_window(true))}function maskWindow(d){d=d||window;hideSelect(d);if(isFrameSet(d)){var f=d.document.getElementsByTagName("frame");for(var b=0;b<f.length;b++){try{maskWindow(f[b].contentWindow)}catch(c){}}}else{var h=$id("_eos_page_mask",d.document);if(!h){h=$create("div",d.document);h.style.display="none";h.id="_eos_page_mask";h.className="eos-page-mask";if(document!=d.document){moveCss(document,d.document)}d.document.body.appendChild(h)}function a(){var j=parseInt(d.document.body.style.marginTop);var p=parseInt(d.document.body.style.marginLeft);j=j||0;p=p||0;var k=0,i=0,e,m;var o=(Math.max(d.document.documentElement.scrollLeft,d.document.body.scrollLeft)||0);var n=(Math.max(d.document.documentElement.scrollTop,d.document.body.scrollTop)||0);e=Math.max(d.document.body.scrollWidth,(d.document.body.clientWidth+o));m=Math.max(d.document.body.scrollHeight,(d.document.body.clientHeight+n));e+=j;m+=p;h.style.top=k-j+"px";h.style.left=i-p+"px";h.style.width=e+"px";h.style.height=m+"px"}h.className="eos-page-mask";h.style.display="block";a();d._bakresize=d.onresize;window.onresize=function(){a()};var g=getMaxZindex(d.document);h.onmousedown=function(){eventManager.stopBubble()};h.onkeydown=function(){eventManager.stopBubble()};h.onkeypress=function(){eventManager.stopBubble()};h.style.zIndex=g+2;h.pActiveElement=document.activeElement;try{h.focus()}catch(c){}}}function hideSelect(f){var a=!-[1,]&&!window.XMLHttpRequest;if(!a){return}if(f){if(!f["mask-select-style"]){f["mask-select-style"]=createStyle("select",f.document,true)}if(f["mask-select-style"]){f["mask-select-style"].style.visibility="hidden"}var g=f.document.getElementsByTagName("frame");for(var b=0;b<g.length;b++){try{hideSelect(g[b].contentWindow)}catch(d){}}var c=f.document.getElementsByTagName("iframe");for(var b=0;b<c.length;b++){try{hideSelect(c[b].contentWindow)}catch(d){}}}}function showSelect(f){var a=!-[1,]&&!window.XMLHttpRequest;if(!a){return}if(f){if(!f["mask-select-style"]){f["mask-select-style"]=createStyle("select",f.document,true)}if(f["mask-select-style"]){f["mask-select-style"].style.visibility="visible"}var g=f.document.getElementsByTagName("frame");for(var b=0;b<g.length;b++){try{showSelect(g[b].contentWindow)}catch(d){}}var c=f.document.getElementsByTagName("iframe");for(var b=0;b<c.length;b++){try{showSelect(c[b].contentWindow)}catch(d){}}}}function unMaskWindow(c){c=c||window;showSelect(c);if(isFrameSet(c)){var d=c.document.getElementsByTagName("frame");for(var a=0;a<d.length;a++){try{unMaskWindow(d[a].contentWindow)}catch(b){}}}else{var f=$id("_eos_page_mask",c.document);if(f){try{f.style.display="none";f.pActiveElement&&f.pActiveElement.focus();f.pActiveElement=null}catch(b){}}if(c._bakresize){c.onresize=c._bakresize}}}function unMaskTop(){unMaskWindow(_get_top_window(true))}function isFrameSet(a){return a.document.getElementsByTagName("frameset").length!=0};