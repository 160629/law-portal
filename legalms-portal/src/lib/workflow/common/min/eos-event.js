if(!Array.prototype.push){Array.prototype.push=function(a){this[this.length]=a}}if(navigator.product=="Gecko"){Document.prototype.elementFromPoint=function(a,f){this.addEventListener("mousemove",this.elementFromPoint__handler,false);var d=this.createEvent("MouseEvents");var c=this.getBoxObjectFor(this.documentElement);var b={x:c.screenX,y:c.screenY};d.initMouseEvent("mousemove",true,false,this.defaultView,0,a+b.x,f+b.y,a,f,false,false,false,false,0,null);this.dispatchEvent(d);this.removeEventListener("mousemove",this.elementFromPoint__handler,false);return this.elementFromPoint__target};Document.prototype.elementFromPoint__handler=function(a){this.elementFromPoint__target=a.explicitOriginalTarget;if(this.elementFromPoint__target.nodeType==Node.TEXT_NODE){this.elementFromPoint__target=this.elementFromPoint__target.parentNode}if(this.elementFromPoint__target.nodeName.toUpperCase()=="HTML"&&this.documentElement.nodeName.toUpperCase()=="HTML"){this.elementFromPoint__target=this.getElementsByTagName("BODY").item(0)}a.preventDefault();a.stopPropagation()};Document.prototype.elementFromPoint__target=null}if(!document.all){try{if(window.Node){Node.prototype.contains=function(c){if(!c){return false}if(this==c){return true}var d=c.tagName;var f=this.getElementsByTagName(d);var a=f.length;for(var b=0;b<a;b++){if(f[b]==c){return true}}return false}}}catch(e){alert(EVENTMANAGER_CONTIANS_ERROR)}}if(typeof(_registryEvent)=="undefined"){_registryEvent=[]}if(typeof(_registryOutClick)=="undefined"){_registryOutClick=[]}function eventManager(){}eventManager.onLoadFuncList=[];eventManager.onLoadFunc=function(){var c=this;for(var a=0;a<eventManager.onLoadFuncList.length;a++){var b=eventManager.onLoadFuncList[a];b.apply(c,arguments)}};eventManager.onLoadFunc.hasAdd=false;eventManager.onLoad=function(d,c,a){eventManager.onLoadFuncList.push(c);if(!eventManager.onLoadFunc.hasAdd){eventManager.onLoadFunc.hasAdd=true;var b="load";c=eventManager.onLoadFunc;if(d.addEventListener){d.addEventListener(b,c,a);_registryEvent.push({obj:d,type:b,fn:c,useCapture:a});return true}else{if(d.attachEvent&&d.attachEvent("on"+b,c)){a=false;_registryEvent.push({obj:d,type:b,fn:c,useCapture:a});return true}}}return false};eventManager.add=function(d,c,b,a){if(typeof d=="string"){d=document.getElementById(d)}if(d==null||b==null){return false}if(c=="mousewheel"||c=="mousescroll"){c=(window.isGecko)?"DOMMouseScroll":"mousewheel"}else{if(c=="load"){return eventManager.onLoad(d,b,a)}}if(d.addEventListener){d.addEventListener(c,b,a);_registryEvent.push({obj:d,type:c,fn:b,useCapture:a});return true}if(d.attachEvent&&d.attachEvent("on"+c,b)){_registryEvent.push({obj:d,type:c,fn:b,useCapture:false});return true}return false};eventManager.addFocusEvent=function(d,c,a){if(typeof(d)=="string"){d=$id(d)}var b="focus";if(d.constructor==window.ComboSelect){}else{if(d.constroctor==window.CheckGroup){}else{if(d.constroctor==window.DictRadioGroup){}else{eventManager.add(d,b,c,a)}}}};eventManager.addBlurEvent=function(d,c,a){if(typeof(d)=="string"){d=$id(d)}var b="blur";if(d.constructor==window.ComboSelect){}else{if(d.constroctor==window.CheckGroup){}else{if(d.constroctor==window.DictRadioGroup){}else{eventManager.add(d,b,c,a)}}}};eventManager.addOutClick=function(b,a,c){_registryOutClick.push({obj:b,fn:a,params:c})};eventManager.outClick=function(a){PageControl.setFocus("","",a)};eventManager.remove=function(d,c,b,a){if(d.removeEventListener){d.removeEventListener(c,b,a)}else{if(d.detachEvent){d.detachEvent("on"+c,b)}}if(d["on"+c]){d["on"+c]=null}};eventManager.CleanUp=function(){if(_registryEvent){for(var a=0;a<_registryEvent.length;a++){eventManager.remove(_registryEvent[a].obj,_registryEvent[a].type,_registryEvent[a].fn);_registryEvent[a].obj=null;_registryEvent[a].fn=null}}ReleaseEvents();_registryEvent=null;_registryOutClick=null;__page__components=null;window.onerror=null;eventManager.outClick=null;if(window.CollectGarbage){CollectGarbage()}};eventManager.getElement=function(c){c=c||window;var b=eventManager.getElement.caller;var d;if(c.event){d=c.event.srcElement}else{var a=eventManager.getEvent(c);d=a.target}return d.nodeType==3?d.parentNode:d};eventManager.stopPropagation=function(c){c=c||window;var b=eventManager.stopPropagation.caller;var a=window.event?window.event:eventManager.getEvent(c);if(!a){return}a.stopPropagation?a.stopPropagation():(a.cancelBubble=true);if(a.stopPropagation){a.preventDefault();a.stopPropagation()}else{a.returnValue=false;a.cancelBubble=true}};eventManager.stopEvent=eventManager.stopPropagation;eventManager.getPageScroll=function(f){f=f||window;var a=f.document.documentElement,c=f.document.body;var b=0;var d=0;b=Math.max(a.scrollLeft,c.scrollLeft);d=Math.max(a.scrollTop,c.scrollTop);return[b,d]};eventManager.getPointX=function(c){c=c||window;var b=eventManager.getEvent(c);var a=b.pageX;if(!a&&0!==a){a=b.clientX||0;if(isIE){a+=eventManager.getPageScroll(c)[0]}}return a};eventManager.getPointY=function(b){b=b||window;var a=eventManager.getEvent(b);var c=a.pageY;if(!c&&0!==c){c=a.clientY||0;if(isIE){c+=eventManager.getPageScroll(b)[1]}}return c};eventManager.getWheel=function(a){a=a||window.event||eventManager.getEvent();return(a.wheelDelta)?a.wheelDelta/120:-(a.detail||0)/3};eventManager.getEvent=function(c){c=c||window;if(c.event){return c.event}else{var b=eventManager.getEvent.caller;while(b!=null){var a=b.arguments[0];if(a){if((a.constructor==Event||a.constructor==MouseEvent||a.constructor==KeyboardEvent)||(typeof(a)=="object"&&a.preventDefault&&a.stopPropagation)){return a}}b=b.caller}return null}};eventManager.getKeyCode=function(b){b=b||window;if(b.event){return b.event.keyCode}else{var a=eventManager.getEvent(b);if(!a){return null}return a.keyCode}};function ReleaseEvents(){return;var c=["focus","blur","click","mousedown","mouseup","mouseover","keydown","keypress","keyup","mouseout","change"];var d=function(g){var f;for(f=0;f<c.length;f++){if(g["on"+c[f]]){g["on"+c[f]]=null}}};var a=document.all||document.getElementsByTagName("*");if(a){for(var b=0;b<a.length;b++){d(a[b])}}}function ReleaseElemEvents(d){var c=["focus","blur","click","mousedown","mouseup","mouseover","keydown","keypress","keyup","mouseout","change"];var f=function(h){var g;for(g=0;g<c.length;g++){if(h["on"+c[g]]){h["on"+c[g]]=null}}};f(d);var a=d.getElementsByTagName("*");if(a){for(var b=0;b<a.length;b++){f(a[b])}}}eventManager.add(window,"unload",eventManager.CleanUp);eventManager.add(document,"mousedown",eventManager.outClick);eventManager.stopBubble=function(b){b=b||window;var a=b.event?b.event:eventManager.getEvent(b);if(!a){return}if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}};(function(){if(!EOS){return}var a=function(c,i,l,k,d,b){if(arguments.length<2){return}this.__eventBus[c]=this.__eventBus[c]||{};var j=this.__eventBus[c];if(!j){return}var g=j[i];g=g||{name:i,map:{},handler:[]};b=b||EOS.createId();var f={id:b,fn:l,data:d,scope:k};g.map=g.map||{};if(g.map[b]!==undefined){EOS.apply(g.map[b],f)}else{g.map[b]=f;g.handler.push(f)}j[i]=g;return b};EOS.event={};EOS.apply(EOS.event,{__eventBus:{},fireEvent:function(c,k,j){if(!arguments.length){return}var f=this.__eventBus[c];if(!f){return}var l=f[k];if(!l){return}for(var d=0,b=l.handler.length;d<b;d++){var g=l.handler[d];g.fn.call(g.scope||this,{e:k,eventData:j,data:g.data})}},addEventListener:function(b,f,c,g,d,h){var h;switch(typeof(f)){case"string":h=a.call(this,b,f,c,g,d,h);break;case"object":h=a.call(this,b,f.name,f.handler,f.scope,f.data,f.id);break;default:break}return h},removeEventListener:function(b,j,l){if(!arguments.length){return}var k=this.__eventBus[b];if(!k){return}var f=k[j];if(!f){return}var m=typeof(l);switch(m){case"function":for(var c=0,g=f.handler.length;c<g;c++){if(f.handler[c].fn==fn){f.handler[c].splice(c,0)}}break;case"string":if(f.map[l]!==undefined){for(var c=0,g=f.handler.length;c<g;c++){var d=f.handler[c];if(d.id==l){f.handler.splice(c,1);delete f.map[l];break}}}break;default:delete k[j];break}},on:function(){this.addEventListener.apply(this,arguments)},un:function(){this.addEventListener.apply(this,arguments)}})})();